@using Telerik.Web.Mvc.UI
@using Era_sphere.Areas.AreaHoteles.Models.Habitaciones
@model IEnumerable<Comodidad>
@{
    ViewBag.Title = "SeleccionGrilla";
    Layout = "~/Views/Shared/_Layout.cshtml";
    
}


<div class="block big" style="position: relative">
    <!-- Block Begin -->
    <div class="titlebar">
        <h3>
            Mantenimento de Comodidades
        </h3>
    </div>
    <div class="block_cont">


  @(Html.Telerik().Grid(Model)
        .Name("Grid")
        .DataKeys(key => key.Add(c => c.ID))
        .Columns(columns =>
        {
            columns.Template(
                        @<text>
                            <input name="checkedRecords" type="checkbox" value="@item.ID" title="checkedRecords" />
                        </text>
                    )
                   .Title("Seleccionar")
                   .Width(36);
            columns.Bound(p => p.ID);
            columns.Bound(p => p.descripcion);
        })

            .Pageable()
            .Sortable()


            .DataBinding(dataBinding => dataBinding
                .Ajax()
            )
        )
       
    </div>
    <button class="t-button t-state-default" onclick="displayCheckedOrders()">Guardar Cambios</button>
    <script type="text/javascript">
        function displayCheckedOrders() {
            var $checkedRecords = $(':checked');

            if ($checkedRecords.length < 1) {
                alert('Debe seleccionar comodidades');
                return;
            }   
            //falta linkear 
            $('#result').load('@Url.Action("ComodidadesSeleccion", "Comodidades")', $checkedRecords);
            
        }
    </script>
    <div id="result"></div>
    <!-- Table Wrapper End -->
</div>